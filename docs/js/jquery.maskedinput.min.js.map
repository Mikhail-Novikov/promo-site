{"version":3,"sources":["jquery.maskedinput.js"],"names":["factory","define","amd","exports","require","jQuery","$","caretTimeoutId","ua","navigator","userAgent","iPhone","test","chrome","android","mask","definitions","9","a","*","autoclear","dataName","placeholder","fn","extend","caret","begin","end","range","this","length","is","get","document","activeElement","each","setSelectionRange","createTextRange","collapse","moveEnd","moveStart","select","selectionStart","selectionEnd","selection","createRange","duplicate","text","unmask","trigger","settings","input","defs","tests","partialPosition","firstNonMaskPos","lastRequiredNonMaskPos","len","oldVal","data","undefined","completed","String","split","i","c","push","RegExp","tryFireCompleted","buffer","getPlaceholder","call","charAt","seekNext","pos","seekPrev","shiftL","j","writeBuffer","Math","max","shiftR","t","androidInputEvent","e","curVal","val","checkVal","lastEnteredValue","blurEvent","focusText","change","keydownEvent","prop","k","which","keyCode","clearBuffer","preventDefault","keypressEvent","p","next","ctrlKey","altKey","metaKey","fromCharCode","proxy","setTimeout","start","join","allow","lastMatch","defaultBuffer","substring","map","one","off","removeData","on","clearTimeout","replace"],"mappings":"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","file":"jquery.maskedinput.min.js","sourcesContent":["(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function($){var ua=navigator.userAgent,iPhone=/iphone/i.test(ua),chrome=/chrome/i.test(ua),android=/android/i.test(ua),caretTimeoutId;$.mask={definitions:{'9':\"[0-9]\",'a':\"[A-Za-z]\",'*':\"[A-Za-z0-9]\"},autoclear:true,dataName:\"rawMaskFn\",placeholder:'_'};$.fn.extend({caret:function(begin,end){var range;if(this.length===0||this.is(\":hidden\")||this.get(0)!==document.activeElement){return;}if(typeof begin=='number'){end=(typeof end==='number')?end:begin;return this.each(function(){if(this.setSelectionRange){this.setSelectionRange(begin,end);}else if(this.createTextRange){range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',begin);range.select();}});}else{if(this[0].setSelectionRange){begin=this[0].selectionStart;end=this[0].selectionEnd;}else if(document.selection&&document.selection.createRange){range=document.selection.createRange();begin=0-range.duplicate().moveStart('character',-100000);end=begin+range.text.length;}return{begin:begin,end:end};}},unmask:function(){return this.trigger(\"unmask\");},mask:function(mask,settings){var input,defs,tests,partialPosition,firstNonMaskPos,lastRequiredNonMaskPos,len,oldVal;if(!mask&&this.length>0){input=$(this[0]);var fn=input.data($.mask.dataName)\nreturn fn?fn():undefined;}settings=$.extend({autoclear:$.mask.autoclear,placeholder:$.mask.placeholder,completed:null},settings);defs=$.mask.definitions;tests=[];partialPosition=len=mask.length;firstNonMaskPos=null;mask=String(mask);$.each(mask.split(\"\"),function(i,c){if(c=='?'){len--;partialPosition=i;}else if(defs[c]){tests.push(new RegExp(defs[c]));if(firstNonMaskPos===null){firstNonMaskPos=tests.length-1;}if(i<partialPosition){lastRequiredNonMaskPos=tests.length-1;}}else{tests.push(null);}});return this.trigger(\"unmask\").each(function(){var input=$(this),buffer=$.map(mask.split(\"\"),function(c,i){if(c!='?'){return defs[c]?getPlaceholder(i):c;}}),defaultBuffer=buffer.join(''),focusText=input.val();function tryFireCompleted(){if(!settings.completed){return;}for(var i=firstNonMaskPos;i<=lastRequiredNonMaskPos;i++){if(tests[i]&&buffer[i]===getPlaceholder(i)){return;}}settings.completed.call(input);}function getPlaceholder(i){if(i<settings.placeholder.length)return settings.placeholder.charAt(i);return settings.placeholder.charAt(0);}function seekNext(pos){while(++pos<len&&!tests[pos]);return pos;}function seekPrev(pos){while(--pos>=0&&!tests[pos]);return pos;}function shiftL(begin,end){var i,j;if(begin<0){return;}for(i=begin,j=seekNext(end);i<len;i++){if(tests[i]){if(j<len&&tests[i].test(buffer[j])){buffer[i]=buffer[j];buffer[j]=getPlaceholder(j);}else{break;}j=seekNext(j);}}writeBuffer();input.caret(Math.max(firstNonMaskPos,begin));}function shiftR(pos){var i,c,j,t;for(i=pos,c=getPlaceholder(pos);i<len;i++){if(tests[i]){j=seekNext(i);t=buffer[i];buffer[i]=c;if(j<len&&tests[j].test(t)){c=t;}else{break;}}}}function androidInputEvent(e){var curVal=input.val();var pos=input.caret();if(oldVal&&oldVal.length&&oldVal.length>curVal.length){checkVal(true);while(pos.begin>0&&!tests[pos.begin-1])pos.begin--;if(pos.begin===0){while(pos.begin<firstNonMaskPos&&!tests[pos.begin])pos.begin++;}input.caret(pos.begin,pos.begin);}else{var pos2=checkVal(true);var lastEnteredValue=curVal.charAt(pos.begin);if(pos.begin<len){if(!tests[pos.begin]){pos.begin++;if(tests[pos.begin].test(lastEnteredValue)){pos.begin++;}}else{if(tests[pos.begin].test(lastEnteredValue)){pos.begin++;}}}input.caret(pos.begin,pos.begin);}tryFireCompleted();}function blurEvent(e){checkVal();if(input.val()!=focusText)input.change();}function keydownEvent(e){if(input.prop(\"readonly\")){return;}var k=e.which||e.keyCode,pos,begin,end;oldVal=input.val();if(k===8||k===46||(iPhone&&k===127)){pos=input.caret();begin=pos.begin;end=pos.end;if(end-begin===0){begin=k!==46?seekPrev(begin):(end=seekNext(begin-1));end=k===46?seekNext(end):end;}clearBuffer(begin,end);shiftL(begin,end-1);e.preventDefault();}else if(k===13){blurEvent.call(this,e);}else if(k===27){input.val(focusText);input.caret(0,checkVal());e.preventDefault();}}function keypressEvent(e){if(input.prop(\"readonly\")){return;}var k=e.which||e.keyCode,pos=input.caret(),p,c,next;if(e.ctrlKey||e.altKey||e.metaKey||k<32){return;}else if(k&&k!==13){if(pos.end-pos.begin!==0){clearBuffer(pos.begin,pos.end);shiftL(pos.begin,pos.end-1);}p=seekNext(pos.begin-1);if(p<len){c=String.fromCharCode(k);if(tests[p].test(c)){shiftR(p);buffer[p]=c;writeBuffer();next=seekNext(p);if(android){var proxy=function(){$.proxy($.fn.caret,input,next)();};setTimeout(proxy,0);}else{input.caret(next);}if(pos.begin<=lastRequiredNonMaskPos){tryFireCompleted();}}}e.preventDefault();}}function clearBuffer(start,end){var i;for(i=start;i<end&&i<len;i++){if(tests[i]){buffer[i]=getPlaceholder(i);}}}function writeBuffer(){input.val(buffer.join(''));}function checkVal(allow){var test=input.val(),lastMatch=-1,i,c,pos;for(i=0,pos=0;i<len;i++){if(tests[i]){buffer[i]=getPlaceholder(i);while(pos++<test.length){c=test.charAt(pos-1);if(tests[i].test(c)){buffer[i]=c;lastMatch=i;break;}}if(pos>test.length){clearBuffer(i+1,len);break;}}else{if(buffer[i]===test.charAt(pos)){pos++;}if(i<partialPosition){lastMatch=i;}}}if(allow){writeBuffer();}else if(lastMatch+1<partialPosition){if(settings.autoclear||buffer.join('')===defaultBuffer){if(input.val())input.val(\"\");clearBuffer(0,len);}else{writeBuffer();}}else{writeBuffer();input.val(input.val().substring(0,lastMatch+1));}return(partialPosition?i:firstNonMaskPos);}input.data($.mask.dataName,function(){return $.map(buffer,function(c,i){return tests[i]&&c!=getPlaceholder(i)?c:null;}).join('');});input.one(\"unmask\",function(){input.off(\".mask\").removeData($.mask.dataName);}).on(\"focus.mask\",function(){if(input.prop(\"readonly\")){return;}clearTimeout(caretTimeoutId);var pos;focusText=input.val();pos=checkVal();caretTimeoutId=setTimeout(function(){if(input.get(0)!==document.activeElement){return;}writeBuffer();if(pos==mask.replace(\"?\",\"\").length){input.caret(0,pos);}else{input.caret(pos);}},10);}).on(\"blur.mask\",blurEvent).on(\"keydown.mask\",keydownEvent).on(\"keypress.mask\",keypressEvent).on(\"input.mask paste.mask\",function(){if(input.prop(\"readonly\")){return;}setTimeout(function(){var pos=checkVal(true);input.caret(pos);tryFireCompleted();},0);});if(chrome&&android){input.off('input.mask').on('input.mask',androidInputEvent);}checkVal();});}});}));"],"sourceRoot":"/source/"}